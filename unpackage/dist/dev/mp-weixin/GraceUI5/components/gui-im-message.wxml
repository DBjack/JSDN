<view class="gui-im data-v-b38c085e" style="{{'background-color:'+(background)+';'}}"><block wx:for="{{msgs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block class="data-v-b38c085e"><block wx:if="{{item.group==group}}"><block class="data-v-b38c085e"><block wx:if="{{item.contentType=='system'}}"><view class="gui-im-msg gui-flex gui-rows gui-justify-content-center data-v-b38c085e"><view class="gui-im-system-msg gui-bg-black data-v-b38c085e">{{item.msg}}</view></view></block><block wx:else><view class="data-v-b38c085e"><view class="{{['gui-im-msg','data-v-b38c085e',userid==item.uindex?'gui-im-msg-right':'gui-im-msg-left']}}"><view class="gui-im-face data-v-b38c085e"><image class="gui-im-face-image data-v-b38c085e" src="{{item.uface}}" mode="widthFix"></image></view><view class="gui-im-content-spacing data-v-b38c085e"></view><view class="gui-im-content-in data-v-b38c085e"><block wx:if="{{userid!=item.uindex}}"><view class="gui-im-name data-v-b38c085e"><text style="{{(unameStyle)}}" class="data-v-b38c085e">{{item.uname}}</text></view></block><block wx:if="{{item.contentType=='txt'}}"><view class="{{['data-v-b38c085e',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="{{['gui-im-content-txt','data-v-b38c085e',userid==item.uindex?'gui-bg-green':'']}}"><text class="{{['data-v-b38c085e',userid==item.uindex?'gui-color-white':'']}}" style="{{(txtContentStyle)}}">{{item.content}}</text></view></view></block><block wx:if="{{item.contentType=='img'}}"><view class="{{['data-v-b38c085e',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="gui-img-in gui-im-img data-v-b38c085e"><image class="gui-im-img data-v-b38c085e" src="{{item.content}}" data-img="{{item.content}}" mode="widthFix" data-event-opts="{{[['tap',[['showImgs',['$event']]]]]}}" bindtap="__e"></image></view></view></block><block wx:if="{{item.contentType=='voice'}}"><view class="{{['data-v-b38c085e',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="{{['gui-flex','gui-rows','gui-nowrap','gui-align-items-center','data-v-b38c085e','gui-im-voice-msg',index==playIndex?'gui-bg-green':'',userid!=item.uindex?'gui-im-flex-end':'']}}" style="{{'width:'+(item.length*3+'px')+';'}}" data-voice="{{item.content}}" data-index="{{index}}" data-event-opts="{{[['tap',[['playVoice',['$event']]]]]}}" bindtap="__e"><text class="{{['gui-icons','data-v-b38c085e',index==playIndex?'gui-color-white':'']}}"></text><text class="{{['gui-im-voice-msg-text','data-v-b38c085e',index==playIndex?'gui-color-white':'']}}">{{item.length+" ”"}}</text></view></view></block><view class="{{['data-v-b38c085e',userid==item.uindex?'gui-text-right':'']}}"><text class="gui-im-timer gui-block-text data-v-b38c085e">{{item.date}}</text></view></view></view></view></block></block></block></block></block><view style="height:100px;" class="data-v-b38c085e"></view></view>